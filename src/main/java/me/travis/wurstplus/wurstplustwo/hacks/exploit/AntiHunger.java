package me.travis.wurstplus.wurstplustwo.hacks.exploit;

import me.travis.mapeadoh.clientstuff.phobos.PacketEvent;
import me.travis.wurstplus.wurstplustwo.hacks.WurstplusCategory;
import me.travis.wurstplus.wurstplustwo.hacks.WurstplusHack;
import net.minecraft.network.play.client.CPacketEntityAction;
import net.minecraft.network.play.client.CPacketPlayer;
import net.minecraft.network.play.client.CPacketEntityAction.Action;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

public class AntiHunger extends WurstplusHack {
    public AntiHunger() {
        super(WurstplusCategory.WURSTPLUS_EXPLOIT);
        this.name = "Anti Hunger";
        this.tag = "AntiHunger";
        this.description = "anti venezuela";
    }

    public void update() {
        mc.player.getFoodStats().setFoodLevel(20);
    }

    @SubscribeEvent
    public void onPacketSend(PacketEvent event) {
        if (event.getPacket() instanceof CPacketPlayer) {
            ((CPacketPlayer)event.getPacket()).onGround = mc.player.fallDistance > 0.0F || mc.playerController.isHittingBlock;
        }

        if (event.getPacket() instanceof CPacketEntityAction && ((CPacketEntityAction)event.getPacket()).getAction() == Action.START_SPRINTING || ((CPacketEntityAction)event.getPacket()).getAction() == Action.STOP_SPRINTING) {
            event.setCanceled(true);
        }

    }
}
